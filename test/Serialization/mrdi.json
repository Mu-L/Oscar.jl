{
  "$id": "https://oscar-system.org/schemas/mrdi.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "properties": {
    "_ns": { "type": "object" },
    "_type": {"oneOf": [
      {"type": "string"},
      {"type": "object",
       "properties": {
         "name": {"type": "string"},
         "params": {"$ref": "#/$defs/data"}
       }}
    ]},
    "data": {"$ref": "#/$defs/data"},
    "_refs": {
      "type": "object",
      "patternProperties":{
        "^[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}$":
        {"$ref": "#"}
      }
    }
  },
  "required": ["_type"],
  "$defs": {
    "data": {
       "oneOf": [
         {"type": "string"},
         {"type": "object",
          "patternProperties": {
            "^[a-zA-Z0-9_]+$": { "$ref": "#/$defs/data" }
          }
         },
         {"type": "array", "items": {"$ref": "#/$defs/data"}}
       ]
    }
  }
}
